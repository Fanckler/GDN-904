'use strict';

const FormWidgetCompound = require('./form_widget_compound');
const FormWidgetSimple = require('./form_widget_simple');
const WidgetCheckbox = require('./widget_checkbox');
const WidgetRadio = require('./widget_radio');
const WidgetChoice = require('./widget_choice');
const WidgetTextarea = require('./widget_textarea');

class FormWidget {
    constructor(form, generator){
        this.form = form;
        this.generator = generator;
    }

    render() {
        if(this.form.vars.compound && this.form.isMainForm){
            return (new FormWidgetCompound(this.form, this.generator)).render();
        }

        switch (this.form.type){
            case 'checkbox':
                return (new WidgetCheckbox(this.form, this.generator)).render();
                break;
            case 'radio':
                return (new WidgetRadio(this.form, this.generator)).render();
                break;
            case 'country':
            case 'choice':
                return (new WidgetChoice(this.form, this.generator)).render();
                break;
            case 'textarea':
                return (new WidgetTextarea(this.form, this.generate)).render();
                break;
            default:
                return (new FormWidgetSimple(this.form, this.generator)).render();
        }
    }
}

module.exports = FormWidget;