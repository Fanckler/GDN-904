'use strict';

const WidgetContainerAttributes = require('./widget_container_attributes');
const FormRows = require('./form_rows');

class FormWidgetCompound{
    constructor(form, generator){
        this.form = form;
        this.generator = generator;
    }

    render(){
        let containerAttributes = new WidgetContainerAttributes(this.form, this.generator);
        let source = '<div ' + containerAttributes.render() + '>';
        if(this.form.isMainForm){
            source += this.generator.errors(this.form);
        }
        source += (new FormRows(this.form, this.generator)).render();
        source += this.generator.rest(this.form);
        source += '</div>';

        return source
    }
}

module.exports = FormWidgetCompound;